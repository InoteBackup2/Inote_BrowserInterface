<div [ngSwitch]="this.globalSuccessState">
  <div *ngSwitchCase=true>
    <p>Votre compte est à présent activé. Vous pouvez dès lors vous y connecter en cliquant sur le bouton suivant:</p>
    <button type="button" (click)="this.onLogin()" class="mt-2 btn btn-secondary ms-lg-auto border border-white">
      Se connecter
    </button>
  </div>

  <div *ngSwitchDefault>

    <form (ngSubmit)="onSubmitRegister()" #registerForm="ngForm">
      <!--  PSEUDO FIELD -->
      <div class="input-group input-group-sm mb-3 mx-auto">
        <span class="input-group-text" id="inputGroup-sizing-sm">Pseudonyme</span>
        <input type="text" class="form-control" id="pseudo" aria-describedby="inputGroup-sizing-sm" required
          pattern="^[a-zA-Z0-9!@#$%^&*()_+=-{}[\]:;<>?,./~|]{0,25}$" [(ngModel)]="this.pseudonyme" name="pseudo"
          #pseudo="ngModel" />
      </div>

      <!-- EMAIL FIELD -->
      <div class="input-group input-group-sm mb-3 mx-auto">
        <span class="input-group-text" id="inputGroup-sizing-sm">Email</span>
        <input type="text" class="form-control" id="email" aria-describedby="inputGroup-sizing-sm" required
          pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" [(ngModel)]="this.username" name="email"
          #emailA="ngModel" />
      </div>

      <!-- PASSWORD FIELD -->
      <div class="input-group input-group-sm mb-3 mx-auto">
        <span class="input-group-text" id="inputGroup-sizing-sm">Mot de Passe</span>
        <input type="password" class="form-control" id="pwd" aria-describedby="inputGroup-sizing-sm" required
          pattern="[a-zA-Z0-9!@#$%^&*_=+-]{8,12}" [(ngModel)]="this.password" name="password" #pwdA="ngModel" />
      </div>

      <div class="d-flex flex-grow-0 justify-content-center">
        <button type="submit" class="mt-2 btn btn-secondary ms-lg-auto border border-white" data-bs-toggle="modal"
          data-bs-target="#staticBackdrop" [disabled]="!registerForm.form.valid" [hidden]="this.registering_success">
          Continuer
        </button>
      </div>

      <!-- ACTIVATE USER MODAL -->
      <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true" >
        <div class="modal-dialog modal-dialog-centered">

          <!-- Start of modal content -->
          <div class="d-flex flex-column align-items-center modal-content bg-success" >
            <button (click)="onCloseModal()" type="button" class="btn-close align-self-end" data-bs-dismiss="modal"
              aria-label="Close"></button>
            <app-activate-user-form class="p-4" [emailWhereCodeSended]="this.username" [errorMsg]="this.errorMsgToSend" [step]="this.activateUserStep">
            </app-activate-user-form>
          </div>
          <!-- End of modal content -->
        </div>
      </div>
    </form>
  </div>
</div>